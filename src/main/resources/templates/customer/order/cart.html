<!DOCTYPE html>
<html data-navigation-type="default" data-navbar-horizontal-shape="default" lang="en-US" dir="ltr"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- ===============================================-->
    <!--    Document Title-->
    <!-- ===============================================-->
    <title>Phoenix</title>

    <!-- ===============================================-->
    <!--    Favicons-->
    <!-- ===============================================-->
    <link rel="apple-touch-icon" sizes="180x180" href="/admin/img/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/admin/img/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/admin/img/favicons/favicon-16x16.png">
    <link rel="shortcut icon" type="image/x-icon" href="/admin/img/favicons/favicon.ico">
    <link rel="manifest" href="/admin/img/favicons/manifest.json">
    <meta name="msapplication-TileImage" content="/admin/img/favicons/mstile-150x150.png">
    <meta name="theme-color" content="#ffffff">
    <script src="/admin/vendors/simplebar/simplebar.min.js"></script>
    <script src="/admin/js/config.js"></script>

    <!-- ===============================================-->
    <!--    Stylesheets-->
    <!-- ===============================================-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link href="/admin/css2.css" type="text/html" rel="stylesheet">
    <link href="/admin/vendors/simplebar/simplebar.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/admin/release/v4.0.8/css/line.css">
    <link href="/admin/css/theme-rtl.min.css" type="text/css" rel="stylesheet" id="style-rtl">
    <link href="/admin/css/theme.min.css" type="text/css" rel="stylesheet" id="style-default">
    <link href="/admin/css/user-rtl.min.css" type="text/css" rel="stylesheet" id="user-style-rtl">
    <link href="/admin/css/user.min.css" type="text/css" rel="stylesheet" id="user-style-default">
    <script>
        var phoenixIsRTL = window.config.config.phoenixIsRTL;
        if (phoenixIsRTL) {
          var linkDefault = document.getElementById('style-default');
          var userLinkDefault = document.getElementById('user-style-default');
          linkDefault.setAttribute('disabled', true);
          userLinkDefault.setAttribute('disabled', true);
          document.querySelector('html').setAttribute('dir', 'rtl');
        } else {
          var linkRTL = document.getElementById('style-rtl');
          var userLinkRTL = document.getElementById('user-style-rtl');
          linkRTL.setAttribute('disabled', true);
          userLinkRTL.setAttribute('disabled', true);
        }
    </script>
</head>

<body>
<!-- ===============================================-->
<!--    Main Content-->
<!-- ===============================================-->
<main class="main" id="top">

    <div th:replace="~{customer/__fragments/header.html :: header}"></div>

    <!-- ============================================-->
    <!-- <section> begin ============================-->
    <section class="pt-5 pb-9">
        <div class="container-small cart">
            <h2 class="mb-6">Cart</h2>
            <div class="row g-5">
                <div class="col-12 col-lg-8">
                    <div id="cartTable"
                         data-list='{"valueNames":["products","color","size","price","quantity","total"],"page":10}'>
                        <div class="table-responsive scrollbar mx-n1 px-1">
                            <table class="table fs-9 mb-0 border-top border-translucent">
                                <thead>
                                <tr>
                                    <th class="sort white-space-nowrap align-middle fs-10" scope="col"></th>
                                    <th class="sort white-space-nowrap align-middle" scope="col"
                                        style="min-width:250px;">Sản phẩm
                                    </th>
                                    <th class="sort align-middle" scope="col" style="width:80px;">Ghi chú</th>
                                    <th class="sort align-middle text-end" scope="col" style="width:300px;">Giá</th>
                                    <th class="sort align-middle ps-5" scope="col" style="width:200px;">Số lượng</th>
                                    <th class="sort align-middle text-end" scope="col" style="width:250px;">Tổng cộng
                                    </th>
                                    <th class="sort text-end align-middle pe-0" scope="col"></th>
                                </tr>
                                </thead>
                                <tbody class="list" id="cart-table-body">
                                <tr class="cart-table-row btn-reveal-trigger" th:each="orderItem : ${orderItemList}">
                                    <td class="align-middle white-space-nowrap py-0">
                                        <a class="d-block border border-translucent rounded-2">
                                            <img th:src="${orderItem.product.imageNames[0]}" alt="" width="53">
                                        </a>
                                    </td>
                                    <td class="products align-middle">
                                        <a class="fw-semibold mb-0 line-clamp-2"
                                           th:href="@{/product/details/} + ${orderItem.product.id}">
                                            <span th:text="${orderItem.product.name}">Product Name</span>
                                        </a>
                                    </td>
                                    <td class="color align-middle white-space-nowrap fs-9 text-body">
                                        <span th:text="${orderItem.note}"></span>
                                    </td>
                                    <td class="price align-middle text-body fs-9 fw-semibold text-end">
                                        <span th:text="${orderItem.product.price}"></span>
                                    </td>
                                    <td class="quantity align-middle fs-8 ps-5">
                                        <div class="input-group input-group-sm flex-nowrap">
                                            <input class="form-control text-center input-spin-none bg-transparent border-0 px-0"
                                                   th:value="${orderItem.quantity}">
                                        </div>
                                    </td>
                                    <td class="total align-middle fw-bold text-body-highlight text-end">
                                        <span th:text="${orderItem.totalPrice}"></span>
                                    </td>
                                    <td class="align-middle white-space-nowrap text-end pe-0 ps-3">
                                        <!-- Form để gửi yêu cầu xóa sản phẩm -->
                                        <form th:action="@{/order/cart/delete}" method="post" style="display:inline;">
                                            <input type="hidden" name="productId" th:value="${orderItem.product.id}">
                                            <button type="submit"
                                                    class="btn btn-sm text-body-tertiary text-opacity-85 text-body-tertiary-hover me-2">
                                                <span class="fas fa-trash"></span>
                                            </button>
                                        </form>
                                    </td>
                                </tr>
                                <!-- Row for Subtotal -->
                                <tr class="btn-reveal-trigger">
                                    <td colspan="5" class="align-middle text-end fw-bold">Tổng phụ:</td>
                                    <td class="align-middle text-end fw-bold text-body-highlight"
                                        th:text="${subTotal}"></td>
                                    <td class="align-middle text-end pe-0"></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="col-12 col-lg-4">
                    <div class="card">
                        <div class="card-body">
                            <form th:action="@{/order/cart}" method="post">
                                <div class="d-flex flex-between-center mb-3">
                                    <h3 class="card-title mb-0">Summary</h3>
                                </div>
                                <select class="form-control" id="EPaymentMethod" name="EPaymentMethod" required>
                                    <option th:each="paymentMethod : ${EPaymentMethod}" th:value="${paymentMethod}"
                                            th:text="${paymentMethod}"></option>
                                </select>
                                <div>
                                    <h4 style="width: 100px;">Delivery : </h4>
                                    <select class="form-control" id="EDelivery" name="EDelivery"
                                            th:field="*{EDelivery}" required>
                                        <option th:each="delivery : ${EDelivery}" th:value="${delivery}"
                                                th:text="${delivery}"></option>
                                    </select>
                                </div>
                                <div>
                                    <div class="d-flex justify-content-between">
                                        <p class="text-body fw-semibold">Subtotal :</p>
                                        <p class="text-body-emphasis fw-semibold" th:text="${subTotal}"></p>
                                    </div>
                                    <div class="d-flex justify-content-between">
                                        <p class="text-body fw-semibold">Discount :</p>
                                        <p class="text-danger fw-semibold">
                                            <span th:text="${saleAdded != null ? '-' + saleAdded.discountPercentage : 'No Discount'}"></span>
                                        </p>
                                    </div>
                                    <div class="d-flex justify-content-between">
                                        <p class="text-body fw-semibold">Shipping Cost :</p>
                                        <p class="text-body-emphasis fw-semibold">$30</p>
                                    </div>
                                </div>
                                <div class="input-group mb-3 w-100">
                                    <a th:href="@{/order/sale-list}" class="text-light">
                                        <botton class="btn btn-primary w-100">
                                            Add sale
                                        </botton>
                                    </a>
                                </div>
                                <div class="input-group mb-3">

                                    <p class="text-body fw-semibold">Sale Name : </p>
                                    <p class="text-body-emphasis fw-semibold">
                                        <span th:text="${saleAdded != null ? saleAdded.name : 'null'}"></span>
                                    </p>
                                </div>
                                <div class="input-group mb-3">
                                    <p class="text-body fw-semibold">Shipping Address : </p>
                                    <input name="shippingAddress" th:value="${shippingAddress}">
                                </div>
                                <div class="d-flex justify-content-between border-y border-dashed py-3 mb-4">
                                    <h4 class="mb-0">Total :</h4>
                                    <h4 class="mb-" th:text="${total + ' $'}"></h4>

                                    <!--                                <form th:action="@{/order/cart}" method="post">-->
                                    <!--                                    <input type="hidden" name="phoneNumber" value="+84 373692957">-->
                                    <!--                                    <button type="submit" class="btn btn-primary w-100">sms<span-->
                                    <!--                                            class="fas fa-chevron-right ms-1 fs-10"></span></button>-->
                                    <!--                                </form>-->

                                </div>
                                <div>
                                    <button type="submit" class="btn btn-primary w-100">Order now<span
                                            class="fas fa-chevron-right ms-1 fs-10"></span></button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>


            </div>
        </div><!-- end of .container-->
    </section><!-- <section> close ============================-->
    <!-- ============================================-->

    <div class="support-chat-container">
        <div class="container-fluid support-chat">
            <div class="card bg-body-emphasis">
                <div class="card-header d-flex flex-between-center px-4 py-3 border-bottom border-translucent">
                    <h5 class="mb-0 d-flex align-items-center gap-2">Demo widget<span
                            class="fa-solid fa-circle text-success fs-11"></span></h5>
                    <div class="btn-reveal-trigger">
                        <button class="btn btn-link p-0 dropdown-toggle dropdown-caret-none transition-none d-flex"
                                type="button" id="support-chat-dropdown" data-bs-toggle="dropdown"
                                data-boundary="window" aria-haspopup="true" aria-expanded="false"
                                data-bs-reference="parent"><span class="fas fa-ellipsis-h text-body"></span></button>
                        <div class="dropdown-menu dropdown-menu-end py-2" aria-labelledby="support-chat-dropdown"><a
                                class="dropdown-item" href="#!">Request a callback</a><a class="dropdown-item"
                                                                                         href="#!">Search in chat</a><a
                                class="dropdown-item" href="#!">Show history</a><a class="dropdown-item" href="#!">Report
                            to Admin</a><a class="dropdown-item btn-support-chat" href="#!">Close Support</a></div>
                    </div>
                </div>
                <div class="card-body chat p-0">
                    <div class="d-flex flex-column-reverse scrollbar h-100 p-3">
                        <div class="text-end mt-6"><a
                                class="mb-2 d-inline-flex align-items-center text-decoration-none text-body-emphasis bg-body-hover rounded-pill border border-primary py-2 ps-4 pe-3"
                                href="#!">
                            <p class="mb-0 fw-semibold fs-9">I need help with something</p><span
                                class="fa-solid fa-paper-plane text-primary fs-9 ms-3"></span>
                        </a><a class="mb-2 d-inline-flex align-items-center text-decoration-none text-body-emphasis bg-body-hover rounded-pill border border-primary py-2 ps-4 pe-3"
                               href="#!">
                            <p class="mb-0 fw-semibold fs-9">I can’t reorder a product I previously ordered</p><span
                                class="fa-solid fa-paper-plane text-primary fs-9 ms-3"></span>
                        </a><a class="mb-2 d-inline-flex align-items-center text-decoration-none text-body-emphasis bg-body-hover rounded-pill border border-primary py-2 ps-4 pe-3"
                               href="#!">
                            <p class="mb-0 fw-semibold fs-9">How do I place an order?</p><span
                                class="fa-solid fa-paper-plane text-primary fs-9 ms-3"></span>
                        </a><a class="false d-inline-flex align-items-center text-decoration-none text-body-emphasis bg-body-hover rounded-pill border border-primary py-2 ps-4 pe-3"
                               href="#!">
                            <p class="mb-0 fw-semibold fs-9">My payment method not working</p><span
                                class="fa-solid fa-paper-plane text-primary fs-9 ms-3"></span>
                        </a></div>
                        <div class="text-center mt-auto">
                            <div class="avatar avatar-3xl status-online"><img
                                    class="rounded-circle border border-3 border-light-subtle"
                                    src="/admin/img/team/30.webp" alt=""></div>
                            <h5 class="mt-2 mb-3">Eric</h5>
                            <p class="text-center text-body-emphasis mb-0">Ask us anything – we’ll get back to you here
                                or by email within 24 hours.</p>
                        </div>
                    </div>
                </div>
                <div class="card-footer d-flex align-items-center gap-2 border-top border-translucent ps-3 pe-4 py-3">
                    <div class="d-flex align-items-center flex-1 gap-3 border border-translucent rounded-pill px-4">
                        <input class="form-control outline-none border-0 flex-1 fs-9 px-0" type="text"
                               placeholder="Write message"><label
                            class="btn btn-link d-flex p-0 text-body-quaternary fs-9 border-0"
                            for="supportChatPhotos"><span class="fa-solid fa-image"></span></label><input class="d-none"
                                                                                                          type="file"
                                                                                                          accept="image/*"
                                                                                                          id="supportChatPhotos"><label
                            class="btn btn-link d-flex p-0 text-body-quaternary fs-9 border-0"
                            for="supportChatAttachment"> <span class="fa-solid fa-paperclip"></span></label><input
                            class="d-none" type="file" id="supportChatAttachment"></div>
                    <button class="btn p-0 border-0 send-btn"><span class="fa-solid fa-paper-plane fs-9"></span>
                    </button>
                </div>
            </div>
        </div>
        <button class="btn p-0 border border-translucent btn-support-chat"><span
                class="fs-8 btn-text text-primary text-nowrap">Chat demo</span><span
                class="fa-solid fa-circle text-success fs-9 ms-2"></span><span
                class="fa-solid fa-chevron-down text-primary fs-7"></span></button>
    </div>

    <div th:replace="~{customer/__fragments/footer.html :: footer}"></div>
</main>

<!-- ===============================================-->
<!--    JavaScripts-->
<!-- ===============================================-->
<script src="/admin/vendors/popper/popper.min.js"></script>
<script src="/admin/vendors/bootstrap/bootstrap.min.js"></script>
<script src="/admin/vendors/anchorjs/anchor.min.js"></script>
<script src="/admin/vendors/is/is.min.js"></script>
<script src="/admin/vendors/fontawesome/all.min.js"></script>
<script src="/admin/vendors/lodash/lodash.min.js"></script>
<script src="/admin/v3/polyfill.min.js?features=window.scroll"></script>
<script src="/admin/vendors/list.js/list.min.js"></script>
<script src="/admin/vendors/feather-icons/feather.min.js"></script>
<script src="/admin/vendors/dayjs/dayjs.min.js"></script>
<script src="/admin/js/phoenix.js"></script>
</body>

</html>