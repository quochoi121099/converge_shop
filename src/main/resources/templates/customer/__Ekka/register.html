<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Ekka - Register</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- site Favicon -->
    <link rel="icon" th:href="@{/customer/images/favicon/favicon.png}" sizes="32x32" />
    <link rel="apple-touch-icon" th:href="@{/customer/images/favicon/favicon.png}" />
    <meta name="msapplication-TileImage" content="customer/images/favicon/favicon.png" />

    <!-- css Icon Font -->
    <link rel="stylesheet" th:href="@{/customer/css/vendor/ecicons.min.css}" />

    <!-- css All Plugins Files -->
    <link rel="stylesheet" th:href="@{/customer/css/plugins/animate.css}" />
    <link rel="stylesheet" th:href="@{/customer/css/plugins/swiper-bundle.min.css}" />
    <link rel="stylesheet" th:href="@{/customer/css/plugins/jquery-ui.min.css}" />
    <link rel="stylesheet" th:href="@{/customer/css/plugins/countdownTimer.css}" />
    <link rel="stylesheet" th:href="@{/customer/css/plugins/slick.min.css}" />
    <link rel="stylesheet" th:href="@{/customer/css/plugins/bootstrap.css}" />

    <!-- Main Style -->
    <link rel="stylesheet" th:href="@{/customer/css/style.css}" />
    <link rel="stylesheet" th:href="@{/customer/css/responsive.css}" />

    <!-- Background css -->
    <link rel="stylesheet" id="bg-switcher-css" th:href="@{/customer/css/backgrounds/bg-4.css}">

</head>
<body>
<div th:insert="~{customer/__fragments/header.html :: header}"></div>

<div class="container mt-5">
    <h1 class="mb-4 text-center text-primary">Đăng ký</h1>
    <form id="addUserForm" th:action="@{/register}" th:object="${user}" method="post">
        <div class="mb-3">
            <label for="name" class="form-label">Tên</label>
            <input type="text" id="name" class="form-control" th:field="*{name}" />
            <div class="alert alert-warning" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="text" id="email" class="form-control" th:field="*{email}" />
            <div class="alert alert-warning" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
        </div>
        <div class="mb-3">
            <label for="phoneNumber" class="form-label">Số điện thoại</label>
            <input type="text" id="phoneNumber" class="form-control" th:field="*{phoneNumber}" />
            <div class="alert alert-warning" th:if="${#fields.hasErrors('phoneNumber')}" th:errors="*{phoneNumber}"></div>
        </div>
        <div class="mb-3">
            <label for="password" class="form-label">Mật khẩu</label>
            <input type="password" id="password" class="form-control" th:field="*{password}" />
            <div class="alert alert-warning" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>
        </div>
        <div class="mb-3">
            <label for="address" class="form-label">Địa chỉ</label>
            <input type="text" id="address" class="form-control" th:field="*{address}" />
            <div class="alert alert-warning" th:if="${#fields.hasErrors('address')}" th:errors="*{address}"></div>
        </div>
        <!--        <div class="mb-3">-->
        <!--            <label for="gender" class="form-label">Giới tính</label>-->
        <!--            <input type="text" id="gender" class="form-control" th:field="*{gender}" />-->
        <!--        </div>-->
        <div class="mb-3" >
            <label for="gender" class="form-label">Giới tính</label>
            <select id="gender" class="form-control border border-dark" th:field="*{gender}">
                <option th:each="gender : ${genders}" th:value="${gender}" th:text="${gender}"></option>
            </select>
        </div>
        <div class="text-center">
            <button type="submit" class="btn btn-primary">Đăng ký</button>
            <a th:href="@{/login}" type="button" class="btn btn-success">Đăng Nhập</a>
        </div>
    </form>

    <div id="message" class="alert mt-3" role="alert" style="display: none;"></div>
</div>
<footer th:insert="~{customer/__fragments/footer.html :: footer}"></footer>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<!-- Vendor JS -->
<script th:src="@{/customer/js/vendor/jquery-3.5.1.min.js}"></script>
<script th:src="@{/customer/js/vendor/popper.min.js}"></script>
<script th:src="@{/customer/js/vendor/bootstrap.min.js}"></script>
<script th:src="@{/customer/js/vendor/jquery-migrate-3.3.0.min.js}"></script>
<script th:src="@{/customer/js/vendor/modernizr-3.11.2.min.js}"></script>

<!--Plugins JS-->
<script th:src="@{/customer/js/plugins/swiper-bundle.min.js}"></script>
<script th:src="@{/customer/js/plugins/countdownTimer.min.js}"></script>
<script th:src="@{/customer/js/plugins/scrollup.js}"></script>
<script th:src="@{/customer/js/plugins/jquery.zoom.min.js}"></script>
<script th:src="@{/customer/js/plugins/slick.min.js}"></script>
<script th:src="@{/customer/js/plugins/infiniteslidev2.js}"></script>
<script th:src="@{/customer/js/vendor/jquery.magnific-popup.min.js}"></script>
<script th:src="@{/customer/js/plugins/jquery.sticky-sidebar.js}"></script>

<!-- Main Js -->
<script th:src="@{/customer/js/vendor/index.js}"></script>
<script th:src="@{/customer/js/main.js}"></script>
<!--<script>-->
<!--    document.getElementById("addUserForm").addEventListener("submit", function(event) {-->
<!--        event.preventDefault(); // Ngăn chặn form submit mặc định-->

<!--        // Lấy ra action và method của form-->
<!--        var action = this.getAttribute("action");-->
<!--        var method = this.getAttribute("method");-->

<!--        // Lấy ra dữ liệu của form-->
<!--        var formData = new FormData(this);-->

<!--        // Gửi request đến server-->
<!--        fetch(action, {-->
<!--            method: method,-->
<!--            body: formData-->
<!--        })-->
<!--            .then(response => response.text())-->
<!--            .then(result => {-->
<!--                // Hiển thị thông báo-->
<!--                var messageElement = document.getElementById("message");-->
<!--                if (result === "success") {-->
<!--                    // messageElement.className = "alert alert-success";-->
<!--                    // messageElement.innerText = "Thêm người dùng thành công!";-->
<!--                    Swal.fire({-->
<!--                        title: "Thông Báo!",-->
<!--                        text: "Tạo Tài Khoản Thành Công!",-->
<!--                        icon: "success"-->
<!--                    }).then((result) => {-->
<!--                        // Sau khi thông báo hiện xong, chuyển hướng đến trang login-->
<!--                        if (result.isConfirmed || result.isDismissed) {-->
<!--                            window.location.href = "/login";-->
<!--                        }-->
<!--                    });-->
<!--                } else {-->
<!--&lt;!&ndash;                    messageElement.className = "alert alert-danger";&ndash;&gt;-->
<!--&lt;!&ndash;                    messageElement.innerText = "Thêm người dùng thất bại!";&ndash;&gt;-->
<!--                        Swal.fire({-->
<!--                        title: "Thông Báo!",-->
<!--                        text: "Tạo Tài Khoản Thất Bại!",-->
<!--                        icon: "error"-->
<!--                    });-->
<!--                }-->
<!--                messageElement.style.display = "block";-->
<!--            })-->
<!--            .catch(error => console.error('Error:', error));-->
<!--    });-->
<!--</script>-->
</body>
</html>
